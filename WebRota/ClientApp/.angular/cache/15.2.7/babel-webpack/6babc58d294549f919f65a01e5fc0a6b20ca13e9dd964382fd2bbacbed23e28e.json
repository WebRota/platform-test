{"ast":null,"code":"import { environment } from '../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class UserRegistrationComponent {\n  constructor(http, baseUrl, router) {\n    this.http = http;\n    this.baseUrl = baseUrl;\n    this.router = router;\n    this.newUser = new User(); // Adicionamos um novo usuário para o registro\n    this.message = '';\n    this.apiUrl = environment.apiUrl;\n  }\n  // Adicionamos um método para enviar o novo usuário ao servidor\n  onSubmit() {\n    var uri = this.apiUrl + 'api/Users';\n    this.http.post(uri, this.newUser).subscribe(response => {\n      console.log('Usuário cadastrado com sucesso', response);\n      this.router.navigate(['/login']);\n    }, error => {\n      this.message = 'Erro ao salvar usuario.';\n      console.error('Erro ao cadastrar usuário', error);\n    });\n  }\n}\nUserRegistrationComponent.ɵfac = function UserRegistrationComponent_Factory(t) {\n  return new (t || UserRegistrationComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'), i0.ɵɵdirectiveInject(i2.Router));\n};\nUserRegistrationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserRegistrationComponent,\n  selectors: [[\"app-user-registration\"]],\n  decls: 33,\n  vars: 7,\n  consts: [[1, \"registration-form\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"role\"], [\"type\", \"text\", \"id\", \"role\", \"name\", \"role\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"phone\"], [\"type\", \"tel\", \"id\", \"phone\", \"name\", \"phone\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"cpf\"], [\"type\", \"text\", \"id\", \"cpf\", \"name\", \"cpf\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"error-message\", 2, \"color\", \"red\", \"font-weight\", \"bold\", \"font-size\", \"16px\"]],\n  template: function UserRegistrationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"Cadastro de Usu\\u00E1rio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function UserRegistrationComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\", 3);\n      i0.ɵɵtext(6, \"Nome:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function UserRegistrationComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.newUser.name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 2)(9, \"label\", 5);\n      i0.ɵɵtext(10, \"Email:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function UserRegistrationComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.newUser.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 2)(13, \"label\", 7);\n      i0.ɵɵtext(14, \"Senha:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function UserRegistrationComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.newUser.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 2)(17, \"label\", 9);\n      i0.ɵɵtext(18, \"Papel:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function UserRegistrationComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.newUser.role = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 2)(21, \"label\", 11);\n      i0.ɵɵtext(22, \"Telefone:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function UserRegistrationComponent_Template_input_ngModelChange_23_listener($event) {\n        return ctx.newUser.phone = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"div\", 2)(25, \"label\", 13);\n      i0.ɵɵtext(26, \"CPF:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"input\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function UserRegistrationComponent_Template_input_ngModelChange_27_listener($event) {\n        return ctx.newUser.cpf = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(28, \"br\");\n      i0.ɵɵelementStart(29, \"button\", 15);\n      i0.ɵɵtext(30, \"Cadastrar\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"p\", 16);\n      i0.ɵɵtext(32);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.newUser.name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.newUser.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.newUser.password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.newUser.role);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.newUser.phone);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.newUser.cpf);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.message);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nclass User {\n  constructor() {\n    this.name = '';\n    this.email = '';\n    this.password = '';\n    this.role = '';\n    this.phone = '';\n    this.cpf = '';\n  }\n}","map":{"version":3,"mappings":"AAGA,SAASA,WAAW,QAAQ,gCAAgC;;;;AAO5D,OAAM,MAAOC,yBAAyB;EAIpCC,YAAoBC,IAAgB,EAA8BC,OAAe,EAAUC,MAAc;IAArF,SAAI,GAAJF,IAAI;IAA0C,YAAO,GAAPC,OAAO;IAAkB,WAAM,GAANC,MAAM;IAH1F,YAAO,GAAS,IAAIC,IAAI,EAAE,CAAC,CAAC;IACnC,YAAO,GAAW,EAAE;IACpB,WAAM,GAAWN,WAAW,CAACO,MAAM;EAC0E;EAE7G;EACAC,QAAQ;IACN,IAAIC,GAAG,GAAG,IAAI,CAACF,MAAM,GAAC,WAAW;IACjC,IAAI,CAACJ,IAAI,CAACO,IAAI,CAACD,GAAG,EAAE,IAAI,CAACE,OAAO,CAAC,CAACC,SAAS,CACzCC,QAAQ,IAAG;MACTC,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEF,QAAQ,CAAC;MACvD,IAAI,CAACR,MAAM,CAACW,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC,EACDC,KAAK,IAAG;MACN,IAAI,CAACC,OAAO,GAAG,yBAAyB;MACxCJ,OAAO,CAACG,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACnD,CAAC,CACF;EACH;;AAnBWhB,yBAAyB;mBAAzBA,yBAAyB,4DAIU,UAAU;AAAA;AAJ7CA,yBAAyB;QAAzBA,yBAAyB;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVtCC,8BAA+B;MACzBA,wCAAmB;MAAAA,iBAAK;MAC5BA,+BAA8B;MAAxBA;QAAA,OAAYC,cAAU;MAAA,EAAC;MAC3BD,8BAAwB;MACJA,qBAAK;MAAAA,iBAAQ;MAC/BA,gCAAkG;MAArEA;QAAA;MAAA,EAA0B;MAAvDA,iBAAkG;MAGpGA,8BAAwB;MACHA,uBAAM;MAAAA,iBAAQ;MACjCA,iCAAsG;MAAvEA;QAAA;MAAA,EAA2B;MAA1DA,iBAAsG;MAGxGA,+BAAwB;MACAA,uBAAM;MAAAA,iBAAQ;MACpCA,iCAAkH;MAA7EA;QAAA;MAAA,EAA8B;MAAnEA,iBAAkH;MAGpHA,+BAAwB;MACJA,uBAAM;MAAAA,iBAAQ;MAChCA,kCAAyF;MAA5DA;QAAA;MAAA,EAA0B;MAAvDA,iBAAyF;MAG3FA,+BAAwB;MACHA,0BAAS;MAAAA,iBAAQ;MACpCA,kCAA2F;MAA9DA;QAAA;MAAA,EAA2B;MAAxDA,iBAA2F;MAG7FA,+BAAwB;MACLA,qBAAI;MAAAA,iBAAQ;MAC7BA,kCAAsF;MAA1DA;QAAA;MAAA,EAAyB;MAArDA,iBAAsF;MAExFA,sBAAI;MACJA,mCAA8C;MAAAA,0BAAS;MAAAA,iBAAS;MAElEA,8BAAiF;MAAAA,aAAW;MAAAA,iBAAI;;;MA9B/DA,eAA0B;MAA1BA,0CAA0B;MAKxBA,eAA2B;MAA3BA,2CAA2B;MAKrBA,eAA8B;MAA9BA,8CAA8B;MAKtCA,eAA0B;MAA1BA,0CAA0B;MAK1BA,eAA2B;MAA3BA,2CAA2B;MAK5BA,eAAyB;MAAzBA,yCAAyB;MAKwBA,eAAW;MAAXA,iCAAW;;;;;ADH9F,MAAMlB,IAAI;EAAVJ;IACE,SAAI,GAAW,EAAE;IACjB,UAAK,GAAW,EAAE;IAClB,aAAQ,GAAW,EAAE;IACrB,SAAI,GAAW,EAAE;IACjB,UAAK,GAAW,EAAE;IAClB,QAAG,GAAW,EAAE;EAClB","names":["environment","UserRegistrationComponent","constructor","http","baseUrl","router","User","apiUrl","onSubmit","uri","post","newUser","subscribe","response","console","log","navigate","error","message","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\willi\\Documents\\GitHub\\platform-test\\WebRota\\ClientApp\\src\\app\\user-registration\\user-registration.component.ts","C:\\Users\\willi\\Documents\\GitHub\\platform-test\\WebRota\\ClientApp\\src\\app\\user-registration\\user-registration.component.html"],"sourcesContent":["import { Component, Inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport { environment } from '../../environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-user-registration',\r\n  templateUrl: './user-registration.component.html',\r\n  styleUrls: ['./user-registration.component.css']\r\n})\r\nexport class UserRegistrationComponent {\r\n  public newUser: User = new User(); // Adicionamos um novo usuário para o registro\r\n  message: string = '';\r\n  apiUrl: string = environment.apiUrl;\r\n  constructor(private http: HttpClient, @Inject('BASE_URL') private baseUrl: string, private router: Router) { }\r\n\r\n  // Adicionamos um método para enviar o novo usuário ao servidor\r\n  onSubmit() {\r\n    var uri = this.apiUrl+'api/Users';\r\n    this.http.post(uri, this.newUser).subscribe(\r\n      response => {\r\n        console.log('Usuário cadastrado com sucesso', response);\r\n        this.router.navigate(['/login']);\r\n      },\r\n      error => {\r\n        this.message = 'Erro ao salvar usuario.';\r\n        console.error('Erro ao cadastrar usuário', error);\r\n      }\r\n    );\r\n  }\r\n}\r\n\r\nclass User {\r\n  name: string = '';\r\n  email: string = '';\r\n  password: string = '';\r\n  role: string = '';\r\n  phone: string = '';\r\n  cpf: string = '';\r\n}\r\n","<div class=\"registration-form\">\r\n  <h2>Cadastro de Usuário</h2>\r\n  <form (ngSubmit)=\"onSubmit()\">\r\n    <div class=\"form-group\">\r\n      <label for=\"name\">Nome:</label>\r\n      <input type=\"text\" id=\"name\" [(ngModel)]=\"newUser.name\" name=\"name\" class=\"form-control\" required>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"email\">Email:</label>\r\n      <input type=\"email\" id=\"email\" [(ngModel)]=\"newUser.email\" name=\"email\" class=\"form-control\" required>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"password\">Senha:</label>\r\n      <input type=\"password\" id=\"password\" [(ngModel)]=\"newUser.password\" name=\"password\" class=\"form-control\" required>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"role\">Papel:</label>\r\n      <input type=\"text\" id=\"role\" [(ngModel)]=\"newUser.role\" name=\"role\" class=\"form-control\">\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"phone\">Telefone:</label>\r\n      <input type=\"tel\" id=\"phone\" [(ngModel)]=\"newUser.phone\" name=\"phone\" class=\"form-control\">\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"cpf\">CPF:</label>\r\n      <input type=\"text\" id=\"cpf\" [(ngModel)]=\"newUser.cpf\" name=\"cpf\" class=\"form-control\">\r\n    </div>\r\n    <br>\r\n    <button type=\"submit\" class=\"btn btn-primary\">Cadastrar</button>\r\n  </form>\r\n  <p class=\"error-message\" style=\"color: red; font-weight: bold; font-size: 16px;\">{{message}}</p>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}