{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport * as L from 'leaflet';\nlet LeafletMapComponent = class LeafletMapComponent {\n  constructor(http) {\n    this.http = http;\n    this.totalDistance = 0; // Variável para rastrear a soma da distância\n  }\n\n  ngOnInit() {\n    const map = L.map('map').setView([-18.924067, -48.282142], 12);\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(map);\n    this.http.get('./assets/positions.json').subscribe(data => {\n      const positionsData = data;\n      const positions = positionsData.data;\n      const markers = [];\n      const polygon = L.polyline([], {\n        color: 'blue'\n      }).addTo(map);\n      let prevPosition = null; // Variável para rastrear a posição anterior\n      positions.forEach(position => {\n        const lat = parseFloat(position.latitude);\n        const lon = parseFloat(position.longitude);\n        const marker = L.marker([lat, lon]).addTo(map);\n        markers.push(marker);\n        if (prevPosition) {\n          const currentLatLng = L.latLng(lat, lon);\n          const prevLatLng = L.latLng(prevPosition.latitude, prevPosition.longitude);\n          const distance = currentLatLng.distanceTo(prevLatLng);\n          // Adicione a distância à variável de soma\n          this.totalDistance += distance;\n        }\n        polygon.addLatLng([lat, lon]);\n        prevPosition = position; // Atualize a posição anterior\n      });\n\n      map.fitBounds(L.featureGroup(markers).getBounds());\n      // Agora você pode exibir a soma da distância em algum lugar, por exemplo, no console\n      console.log('Soma da distância:', this.totalDistance);\n    });\n  }\n};\nLeafletMapComponent = __decorate([Component({\n  selector: 'app-leaflet-map',\n  templateUrl: './leaflet-map.component.html',\n  styleUrls: ['./leaflet-map.component.css']\n})], LeafletMapComponent);\nexport { LeafletMapComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,OAAO,KAAKC,CAAC,MAAM,SAAS;AAQrB,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAG9BC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAFxB,kBAAa,GAAW,CAAC,CAAC,CAAC;EAEa;;EAExCC,QAAQ;IACN,MAAMC,GAAG,GAAGL,CAAC,CAACK,GAAG,CAAC,KAAK,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;IAE9DN,CAAC,CAACO,SAAS,CAAC,oDAAoD,EAAE;MAChEC,WAAW,EAAE;KACd,CAAC,CAACC,KAAK,CAACJ,GAAG,CAAC;IAEb,IAAI,CAACF,IAAI,CAACO,GAAG,CAAC,yBAAyB,CAAC,CAACC,SAAS,CAAEC,IAAS,IAAI;MAC/D,MAAMC,aAAa,GAAGD,IAAI;MAE1B,MAAME,SAAS,GAAGD,aAAa,CAACD,IAAI;MACpC,MAAMG,OAAO,GAA0B,EAAE;MACzC,MAAMC,OAAO,GAAGhB,CAAC,CAACiB,QAAQ,CAAC,EAAE,EAAE;QAAEC,KAAK,EAAE;MAAM,CAAE,CAAC,CAACT,KAAK,CAACJ,GAAG,CAAC;MAE5D,IAAIc,YAAY,GAAQ,IAAI,CAAC,CAAC;MAE9BL,SAAS,CAACM,OAAO,CAAEC,QAAa,IAAI;QAClC,MAAMC,GAAG,GAAGC,UAAU,CAACF,QAAQ,CAACG,QAAQ,CAAC;QACzC,MAAMC,GAAG,GAAGF,UAAU,CAACF,QAAQ,CAACK,SAAS,CAAC;QAC1C,MAAMC,MAAM,GAAG3B,CAAC,CAAC2B,MAAM,CAAC,CAACL,GAAG,EAAEG,GAAG,CAAC,CAAC,CAAChB,KAAK,CAACJ,GAAG,CAAC;QAC9CU,OAAO,CAACa,IAAI,CAACD,MAAM,CAAC;QAEpB,IAAIR,YAAY,EAAE;UAChB,MAAMU,aAAa,GAAG7B,CAAC,CAAC8B,MAAM,CAACR,GAAG,EAAEG,GAAG,CAAC;UACxC,MAAMM,UAAU,GAAG/B,CAAC,CAAC8B,MAAM,CAACX,YAAY,CAACK,QAAQ,EAAEL,YAAY,CAACO,SAAS,CAAC;UAC1E,MAAMM,QAAQ,GAAGH,aAAa,CAACI,UAAU,CAACF,UAAU,CAAC;UAErD;UACA,IAAI,CAACG,aAAa,IAAIF,QAAQ;;QAGhChB,OAAO,CAACmB,SAAS,CAAC,CAACb,GAAG,EAAEG,GAAG,CAAC,CAAC;QAC7BN,YAAY,GAAGE,QAAQ,CAAC,CAAC;MAC3B,CAAC,CAAC;;MAEFhB,GAAG,CAAC+B,SAAS,CAACpC,CAAC,CAACqC,YAAY,CAACtB,OAAO,CAAC,CAACuB,SAAS,EAAE,CAAC;MAElD;MACAC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE,IAAI,CAACN,aAAa,CAAC;IACvD,CAAC,CAAC;EACJ;CACD;AA9CYjC,mBAAmB,eAL/BF,SAAS,CAAC;EACT0C,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,GACW1C,mBAAmB,CA8C/B;SA9CYA,mBAAmB","names":["Component","L","LeafletMapComponent","constructor","http","ngOnInit","map","setView","tileLayer","attribution","addTo","get","subscribe","data","positionsData","positions","markers","polygon","polyline","color","prevPosition","forEach","position","lat","parseFloat","latitude","lon","longitude","marker","push","currentLatLng","latLng","prevLatLng","distance","distanceTo","totalDistance","addLatLng","fitBounds","featureGroup","getBounds","console","log","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\willi\\Documents\\GitHub\\platform-test\\WebRota\\ClientApp\\src\\app\\leaflet-map\\leaflet-map.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport * as L from 'leaflet';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-leaflet-map',\n  templateUrl: './leaflet-map.component.html',\n  styleUrls: ['./leaflet-map.component.css']\n})\nexport class LeafletMapComponent implements OnInit {\n  totalDistance: number = 0; // Variável para rastrear a soma da distância\n\n  constructor(private http: HttpClient) { }\n\n  ngOnInit(): void {\n    const map = L.map('map').setView([-18.924067, -48.282142], 12);\n\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(map);\n\n    this.http.get('./assets/positions.json').subscribe((data: any) => {\n      const positionsData = data;\n\n      const positions = positionsData.data;\n      const markers: L.Layer[] | undefined = [];\n      const polygon = L.polyline([], { color: 'blue' }).addTo(map);\n\n      let prevPosition: any = null; // Variável para rastrear a posição anterior\n\n      positions.forEach((position: any) => {\n        const lat = parseFloat(position.latitude);\n        const lon = parseFloat(position.longitude);\n        const marker = L.marker([lat, lon]).addTo(map);\n        markers.push(marker);\n\n        if (prevPosition) {\n          const currentLatLng = L.latLng(lat, lon);\n          const prevLatLng = L.latLng(prevPosition.latitude, prevPosition.longitude);\n          const distance = currentLatLng.distanceTo(prevLatLng);\n\n          // Adicione a distância à variável de soma\n          this.totalDistance += distance;\n        }\n\n        polygon.addLatLng([lat, lon]);\n        prevPosition = position; // Atualize a posição anterior\n      });\n\n      map.fitBounds(L.featureGroup(markers).getBounds());\n\n      // Agora você pode exibir a soma da distância em algum lugar, por exemplo, no console\n      console.log('Soma da distância:', this.totalDistance);\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}