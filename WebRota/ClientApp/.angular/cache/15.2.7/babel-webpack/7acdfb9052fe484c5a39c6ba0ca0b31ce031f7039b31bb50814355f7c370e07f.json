{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../auth.service\";\nexport class LoginComponent {\n  constructor(formBuilder, authService) {\n    this.formBuilder = formBuilder;\n    this.authService = authService;\n    this.loginForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required]]\n    });\n  }\n  login() {\n    if (this.loginForm.valid) {\n      const emailControl = this.loginForm.get('email');\n      const passwordControl = this.loginForm.get('password');\n      if (emailControl && passwordControl) {\n        const email = emailControl.value;\n        const password = passwordControl.value;\n        this.authService.login(email, password).subscribe(response => {\n          if (response && response.token) {\n            this.message = 'Login bem-sucedido';\n          } else {\n            this.message = 'Login falhou';\n          }\n        }, error => {\n          console.error('Erro na solicitação de login:', error);\n          this.message = 'Erro na solicitação de login';\n        });\n      }\n    }\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 5,\n  vars: 1,\n  consts: [[3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"formControlName\", \"email\", \"placeholder\", \"Email\"], [\"type\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Senha\"], [\"type\", \"submit\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelement(1, \"input\", 1)(2, \"input\", 2);\n      i0.ɵɵelementStart(3, \"button\", 3);\n      i0.ɵɵtext(4, \"Login\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AACA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;AASnE,OAAM,MAAOC,cAAc;EAIzBC,YAAoBC,WAAwB,EAAUC,WAAwB;IAA1D,gBAAW,GAAXD,WAAW;IAAuB,gBAAW,GAAXC,WAAW;IAC/D,IAAI,CAACC,SAAS,GAAG,IAAI,CAACF,WAAW,CAACG,KAAK,CAAC;MACtCC,KAAK,EAAE,CAAC,EAAE,EAAE,CAACP,UAAU,CAACQ,QAAQ,EAAER,UAAU,CAACO,KAAK,CAAC,CAAC;MACpDE,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACT,UAAU,CAACQ,QAAQ,CAAC;KACrC,CAAC;EACJ;EAEAE,KAAK;IACH,IAAI,IAAI,CAACL,SAAS,CAACM,KAAK,EAAE;MACxB,MAAMC,YAAY,GAAG,IAAI,CAACP,SAAS,CAACQ,GAAG,CAAC,OAAO,CAAC;MAChD,MAAMC,eAAe,GAAG,IAAI,CAACT,SAAS,CAACQ,GAAG,CAAC,UAAU,CAAC;MAEtD,IAAID,YAAY,IAAIE,eAAe,EAAE;QACnC,MAAMP,KAAK,GAAGK,YAAY,CAACG,KAAK;QAChC,MAAMN,QAAQ,GAAGK,eAAe,CAACC,KAAK;QAEtC,IAAI,CAACX,WAAW,CAACM,KAAK,CAACH,KAAK,EAAEE,QAAQ,CAAC,CAACO,SAAS,CAC9CC,QAAa,IAAI;UAChB,IAAIA,QAAQ,IAAIA,QAAQ,CAACC,KAAK,EAAE;YAC9B,IAAI,CAACC,OAAO,GAAG,oBAAoB;WACpC,MAAM;YACL,IAAI,CAACA,OAAO,GAAG,cAAc;;QAEjC,CAAC,EACAC,KAAU,IAAI;UACbC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;UACrD,IAAI,CAACD,OAAO,GAAG,8BAA8B;QAC/C,CAAC,CACF;;;EAGP;;AAnCWlB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV3BC,+BAAmD;MAArBA;QAAA,OAAYC,WAAO;MAAA,EAAC;MAChDD,2BAA+D;MAE/DA,iCAAsB;MAAAA,qBAAK;MAAAA,iBAAS;;;MAHhCA,yCAAuB","names":["Validators","LoginComponent","constructor","formBuilder","authService","loginForm","group","email","required","password","login","valid","emailControl","get","passwordControl","value","subscribe","response","token","message","error","console","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\willi\\Documents\\GitHub\\platform-test\\WebRota\\ClientApp\\src\\app\\login\\login.component.ts","C:\\Users\\willi\\Documents\\GitHub\\platform-test\\WebRota\\ClientApp\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AuthService } from '../auth.service'; // Importe o serviço AuthService aqui\nimport { ReactiveFormsModule } from '@angular/forms';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n})\nexport class LoginComponent {\n  loginForm: FormGroup;\n  message: string | undefined;\n\n  constructor(private formBuilder: FormBuilder, private authService: AuthService) {\n    this.loginForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required]],\n    });\n  }\n\n  login() {\n    if (this.loginForm.valid) {\n      const emailControl = this.loginForm.get('email');\n      const passwordControl = this.loginForm.get('password');\n\n      if (emailControl && passwordControl) {\n        const email = emailControl.value;\n        const password = passwordControl.value;\n\n        this.authService.login(email, password).subscribe(\n          (response: any) => {\n            if (response && response.token) {\n              this.message = 'Login bem-sucedido';\n            } else {\n              this.message = 'Login falhou';\n            }\n          },\n          (error: any) => {\n            console.error('Erro na solicitação de login:', error);\n            this.message = 'Erro na solicitação de login';\n          }\n        );\n      }\n    }\n  }\n\n}\n","<form [formGroup]=\"loginForm\" (ngSubmit)=\"login()\">\r\n  <input type=\"text\" formControlName=\"email\" placeholder=\"Email\">\r\n  <input type=\"password\" formControlName=\"password\" placeholder=\"Senha\">\r\n  <button type=\"submit\">Login</button>\r\n</form>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}